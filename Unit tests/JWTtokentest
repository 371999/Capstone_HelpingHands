    // Generates a JWT token for a newly registered user
    it('should generate a JWT token for a new user registration', async () => {
        const request = {
            body: {
                email: 'newuser@example.com',
                firstName: 'Jane',
                lastName: 'Smith',
                gymName: 'Health Club',
                password: 'strongPassword456',
                type: 'trainer'
            }
        };
        const response = {
            status: jest.fn().mockReturnThis(),
            json: jest.fn()
        };
        const next = jest.fn();
        const mockProfileCreate = jest.spyOn(Profile, 'create').mockResolvedValue({
            email: 'newuser@example.com',
            firstName: 'Jane',
            lastName: 'Smith',
            gymName: 'Health Club',
            password: 'hashedPassword',
            type: 'trainer'
        });
        const mockFindOne = jest.spyOn(Profile, 'findOne').mockResolvedValue(null);
        const mockGetHashedPassword = jest.spyOn(authService, 'getHashedPassword').mockResolvedValue('hashedPassword');
        const mockGenerateJWTToken = jest.spyOn(authService, 'generateJWTToken').mockReturnValue('fakeJWTToken');

        await userRegistration(request, response, next);

        expect(mockFindOne).toHaveBeenCalledWith({ email: 'newuser@example.com' });
        expect(mockGetHashedPassword).toHaveBeenCalledWith('strongPassword456');
        expect(mockProfileCreate).toHaveBeenCalledWith({
            email: 'newuser@example.com',
            firstName: 'Jane',
            lastName: 'Smith',
            gymName: 'Health Club',
            password: 'hashedPassword',
            type: 'trainer'
        });
        expect(mockGenerateJWTToken).toHaveBeenCalled();
        expect(response.status).toHaveBeenCalledWith(Constants.STATUSCREATED);
        expect(response.json).toHaveBeenCalledWith({ success: true, JWT: 'fakeJWTToken' });
    });
